{% extends 'base_new.html' %}
{% load static %}

{% block title %}Register - CSU Tracker{% endblock %}

{% block header %}{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="auth-card">
        <!-- Logo -->
        <div class="auth-logo">
            <div class="auth-logo__icon">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
                </svg>
            </div>
            <h1 class="auth-logo__title">CSU Tracker</h1>
            <p class="auth-logo__subtitle">Start tracking your symptoms today</p>
        </div>
        
        <!-- Register Form -->
        <div class="card">
            <div class="card__body">
                <h2 class="text-xl font-semibold text-primary text-center mb-5">Create an account</h2>
                
                <form method="post" action="{% url 'accounts:register' %}">
                    {% csrf_token %}
                    
                    {% if form.non_field_errors %}
                    <div class="feedback-banner feedback-banner--error mb-4">
                        <svg class="feedback-banner__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/>
                        </svg>
                        <span class="feedback-banner__text">
                            {% for error in form.non_field_errors %}{{ error }}{% endfor %}
                        </span>
                    </div>
                    {% endif %}
                    
                    <div class="form-group">
                        <label for="id_email" class="form-label">Email</label>
                        <input type="email" name="email" id="id_email"
                               class="form-input{% if form.email.errors %} form-input--error{% endif %}"
                               placeholder="your@email.com"
                               value="{{ form.email.value|default:'' }}"
                               required autofocus>
                        {% if form.email.errors %}
                        <p class="form-error">{{ form.email.errors.0 }}</p>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        <label for="id_password1" class="form-label">Password</label>
                        <input type="password" name="password1" id="id_password1"
                               class="form-input{% if form.password1.errors %} form-input--error{% endif %}"
                               placeholder="••••••••"
                               required>
                        {% if form.password1.errors %}
                        <p class="form-error">{{ form.password1.errors.0 }}</p>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        <label for="id_password2" class="form-label">Confirm Password</label>
                        <input type="password" name="password2" id="id_password2"
                               class="form-input{% if form.password2.errors %} form-input--error{% endif %}"
                               placeholder="••••••••"
                               required>
                        {% if form.password2.errors %}
                        <p class="form-error">{{ form.password2.errors.0 }}</p>
                        {% endif %}
                    </div>
                    
                    <button type="submit" class="btn btn--primary btn--lg btn--full mt-5">
                        Create Account
                    </button>
                </form>
                
                <div class="mt-5 text-center">
                    <p class="text-secondary">
                        Already have an account?
                        <a href="{% url 'accounts:login' %}" class="text-brand font-semibold">Sign in</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.auth-container {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--space-6);
    background: linear-gradient(135deg, var(--color-primary-600) 0%, var(--color-primary-800) 100%);
}

.auth-card {
    width: 100%;
    max-width: 400px;
}

.auth-logo {
    text-align: center;
    margin-bottom: var(--space-6);
}

.auth-logo__icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 64px;
    height: 64px;
    background: var(--surface-primary);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-lg);
    margin-bottom: var(--space-4);
    color: var(--color-primary-600);
}

.auth-logo__title {
    font-size: var(--text-2xl);
    font-weight: var(--font-bold);
    color: white;
    margin: 0;
}

.auth-logo__subtitle {
    font-size: var(--text-sm);
    color: rgba(255, 255, 255, 0.8);
    margin-top: var(--space-2);
}
</style>
{% endblock %}
