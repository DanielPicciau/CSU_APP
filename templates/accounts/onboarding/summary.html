{% extends 'accounts/onboarding/base.html' %}

{% block title %}Summary - CSU Tracker{% endblock %}

{% block content %}
<div class="onboarding-step">
    <div class="onboarding-step__emoji">ðŸ“‹</div>
    
    <h1 class="onboarding-step__title">
        Your profile at a glance
    </h1>
    
    <p class="onboarding-step__subtitle">
        Here's what we know about you. You can update any of this later in Settings.
    </p>
    
    <form method="post" class="onboarding-form" id="summary-form">
        {% csrf_token %}
        <input type="hidden" name="action" value="next" id="form-action">
        
        {% if has_data %}
        <div class="onboarding-profile-card">
            {% for item in summary_items %}
            <div class="onboarding-profile-item">
                <div class="onboarding-profile-item__icon">{{ item.icon }}</div>
                <div class="onboarding-profile-item__content">
                    <span class="onboarding-profile-item__label">{{ item.label }}</span>
                    <span class="onboarding-profile-item__value">{{ item.value }}</span>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <div class="onboarding-profile-empty">
            <div class="onboarding-profile-empty__icon">ðŸ‘¤</div>
            <p class="onboarding-profile-empty__text">
                You haven't added any optional details yetâ€”and that's perfectly okay! 
                You can always add information later in your profile settings.
            </p>
        </div>
        {% endif %}
    </form>
    
    <div class="onboarding-security-note">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
            <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
        </svg>
        <span>Your data is encrypted and only visible to you.</span>
    </div>
</div>
{% endblock %}

{% block navigation %}
<button type="submit" form="summary-form" class="btn btn--primary btn--lg btn--full">
    Looks goodâ€”continue
</button>

<div class="onboarding-nav-row">
    <button type="button" onclick="document.getElementById('form-action').value='back'; document.getElementById('summary-form').submit();" class="btn btn--ghost">
        Back
    </button>
</div>
{% endblock %}
